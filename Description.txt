Есть изображение, на изображении расположены квадраты и круги.
Написать программу, которая подсчитает количество квадратов и кругов. Задачка простая, реально на час работы, но дается три дня на решение.

Изображение монохромное или в серых тонах, только черный и белый цвета(0..255, bmp). Линии довольно четкие, шума и выбросов нет, фигуры заполненные, фигуры не могут пересекатся, не могут выходить за пределы изображения. Размер кругов и квадратов разный, но круги и квадраты геометрически правильные (эффект растеризации близок к нулю).